<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sistema de Pedidos - Quentinha</title>
<style>
body {
  font-family: 'Segoe UI', sans-serif;
  margin: 20px;
  background: #121212;
  color: #fff;
}
h1 { text-align: center; color: #FF6600; }
.menu, .proteina, .saladas, .pedido, .selector {
  background: #1c1c1c;
  padding: 20px;
  margin-bottom: 20px;
  border-radius: 15px;
}
button {
  padding: 8px 14px;
  margin: 3px;
  border: none;
  background: linear-gradient(135deg, #FF6600, #e65c00);
  color: #fff;
  border-radius: 20px;
  cursor: pointer;
}
button:hover {
  background: linear-gradient(135deg, #e65c00, #cc5200);
}
table { width: 100%; border-collapse: collapse; margin-top: 10px; }
th, td { border: 1px solid #333; padding: 8px; text-align: center; }
th { background: #FF6600; }
.print-btn {
  background: linear-gradient(135deg, #FF6600, #e65c00);
  padding: 12px 20px;
  border-radius: 30px;
}
input, select, textarea { padding: 8px; border-radius: 8px; border: none; font-size: 1em; }
textarea { width: 100%; height: 60px; margin-top: 10px; }
.selector { display: flex; align-items: center; gap: 10px; }
</style>
</head>
<body>

<h1>üçΩÔ∏è Sistema de Pedidos - Quentinha</h1>

<div class="selector">
  <label for="dias">Selecione o dia:</label>
  <select id="dias" onchange="atualizarMenu()">
    <option value="segunda">Segunda-feira</option>
    <option value="terca">Ter√ßa-feira</option>
    <option value="quarta">Quarta-feira</option>
    <option value="quinta">Quinta-feira</option>
    <option value="sexta">Sexta-feira</option>
    <option value="sabado">S√°bado</option>
  </select>
</div>

<div class="selector">
  <label for="tamanho">Tamanho da Quentinha:</label>
  <select id="tamanho">
    <option value="P">P (2 prote√≠nas)</option>
    <option value="G">G (3 prote√≠nas)</option>
  </select>
</div>

<div class="menu">
  <h2>Acompanhamentos</h2>
  <div id="menuAcompanhamentos"></div>
</div>

<div class="proteina">
  <h2>Prote√≠nas</h2>
  <div id="menuProteinas"></div>
</div>

<div class="saladas">
  <h2>Saladas</h2>
  <div id="menuSaladas"></div>
</div>

<div class="pedido">
  <h2>Pedido Atual</h2>
  <label>Cliente: <input type="text" id="cliente"></label><br><br>

  <label>Op√ß√£o: 
    <select id="opcaoEntrega" onchange="toggleEndereco()">
      <option value="retirada">Retirada</option>
      <option value="entrega">Entrega</option>
    </select>
  </label><br><br>

  <div id="enderecoDiv" style="display:none;">
    <label>Endere√ßo: <input type="text" id="endereco"></label><br><br>
  </div>

  <label>Forma de Pagamento:
    <select id="formaPagamento" onchange="toggleTroco()">
      <option value="pix">Pix</option>
      <option value="dinheiro">Dinheiro</option>
    </select>
  </label><br><br>

  <div id="trocoDiv" style="display:none;">
    <label>Recebe: <input type="number" id="recebe" step="0.01"></label><br><br>
  </div>

  <label>Status Pagamento:
    <select id="statusPagamento">
      <option value="Pago">Pago</option>
      <option value="N√£o Pago">N√£o Pago</option>
    </select>
  </label><br><br>

  <label>Observa√ß√µes:</label>
  <textarea id="observacoes"></textarea>

  <table id="pedidoTabela">
    <thead>
      <tr><th>#</th><th>Pratos</th><th>A√ß√µes</th></tr>
    </thead>
    <tbody></tbody>
  </table>

  <button onclick="adicionarQuentinha()">Adicionar Quentinha</button>
  <button class="print-btn" onclick="imprimirPedido()">üñ®Ô∏è Imprimir Pedido</button>
</div>

<script>
let pedido = [];
let quentinhaAtual = [];

const cardapio = {
  segunda: {
    acompanhamentos: ['Arroz branco', 'Arroz de Leite', 'Feij√£o preto', 'Feij√£o na farofa', 'Macarr√£o espaguete'],
    proteinas: ['Frango ao molho', 'F√≠gado acebolado', 'Lingui√ßa mista'],
    saladas: ['Pur√™ de macaxeira', 'Vinagrete', 'Batata doce'],
  },
  terca: {
    acompanhamentos: ['Arroz Refogado', 'Arroz de Leite', 'Feij√£o na farofa', 'Feij√£o no caldo', 'Macarr√£o espaguete (alho e √≥leo)'],
    proteinas: ['Carne guisada', 'Lingui√ßa mista', 'Frango assado'],
    saladas: ['Pur√™ de macaxeira', 'Salada', 'Batata doce'],
  },
  quarta: {
    acompanhamentos: ['Arroz branco', 'Arroz de Leite', 'Feij√£o no caldo', 'Feij√£o na farofa', 'Macarr√£o espaguete (molho de tomate)'],
    proteinas: ['F√≠gado e moela', 'Frango assado', 'Lingui√ßa mista'],
    saladas: ['Pur√™ de macaxeira', 'Vinagrete', 'Batata doce'],
  },
  quinta: {
    acompanhamentos: ['Arroz Refogado', 'Arroz de Leite', 'Feij√£o na farofa', 'Feij√£o no caldo', 'Macarr√£o espaguete (alho e √≥leo)'],
    proteinas: ['Porco ao molho', 'Lingui√ßa mista', 'Frango assado'],
    saladas: ['Pur√™ de macaxeira', 'Salada', 'Batata doce'],
  },
  sexta: {
    acompanhamentos: ['Arroz branco', 'Arroz de Leite', 'Feij√£o preto', 'Feij√£o na farofa', 'Macarr√£o espaguete (molho de tomate)'],
    proteinas: ['Galinha ao molho', 'Frango assado', 'Lingui√ßa mista'],
    saladas: ['Pur√™ de macaxeira', 'Vinagrete', 'Batata doce'],
  },
  sabado: {
    acompanhamentos: ['Arrubac√£o', 'Arroz refogado', 'Feij√£o no caldo','Feij√£o na Farofa', 'Macarr√£o espaguete (alho e √≥leo)'],
    proteinas: ['Carne de sol (na nata)', 'Lingui√ßa mista', 'Frango assado'],
    saladas: ['Batata doce', 'Vinagrete'],
  }
};

function atualizarMenu() {
  const dia = document.getElementById("dias").value;
  document.getElementById("menuAcompanhamentos").innerHTML = "";
  document.getElementById("menuProteinas").innerHTML = "";
  document.getElementById("menuSaladas").innerHTML = "";

  cardapio[dia].acompanhamentos.forEach(item => {
    document.getElementById("menuAcompanhamentos").innerHTML += `<button onclick="addItem('${item}', 'outro')">${item}</button>`;
  });
  cardapio[dia].proteinas.forEach(item => {
    document.getElementById("menuProteinas").innerHTML += `<button onclick="addItem('${item}', 'proteina')">${item}</button>`;
  });
  cardapio[dia].saladas.forEach(item => {
    document.getElementById("menuSaladas").innerHTML += `<button onclick="addItem('${item}', 'outro')">${item}</button>`;
  });
}

function cardapioProteinas() {
  return [].concat(...Object.values(cardapio).map(c => c.proteinas));
}

function addItem(prato, tipo) {
  if(tipo === "proteina") {
    const tamanho = document.getElementById("tamanho").value;
    const maxProteinas = tamanho === "P" ? 2 : 3;
    const qtdProteinas = quentinhaAtual.filter(p => cardapioProteinas().includes(p)).length;
    if(qtdProteinas >= maxProteinas) {
      alert(`Quentinha ${tamanho} s√≥ pode ter ${maxProteinas} prote√≠nas.`);
      return;
    }
  }
  quentinhaAtual.push(prato);
  renderPedido();
}

function renderPedido() {
  const tbody = document.querySelector("#pedidoTabela tbody");
  tbody.innerHTML = "";
  pedido.forEach((q, i) => {
    tbody.innerHTML += `<tr><td>${i+1}</td><td>${q.join(", ")}</td><td><button onclick="removerQuentinha(${i})">Remover</button></td></tr>`;
  });
  if(quentinhaAtual.length > 0) {
    tbody.innerHTML += `<tr><td>Nova</td><td>${quentinhaAtual.join(", ")}</td><td>-</td></tr>`;
  }
}

function adicionarQuentinha() {
  if(quentinhaAtual.length === 0) {
    alert("Adicione pratos antes de adicionar a quentinha.");
    return;
  }
  pedido.push([...quentinhaAtual]);
  quentinhaAtual = [];
  renderPedido();
}

function removerQuentinha(index) {
  pedido.splice(index, 1);
  renderPedido();
}

function imprimirPedido() {
  if(pedido.length === 0) {
    alert("Adicione pelo menos uma quentinha.");
    return;
  }
  const cliente = document.getElementById("cliente").value || "N√£o informado";
  const opcaoEntrega = document.getElementById("opcaoEntrega").value;
  const endereco = opcaoEntrega === "entrega" ? (document.getElementById("endereco").value || "N√£o informado") : "";
  const formaPagamento = document.getElementById("formaPagamento").value;
  const recebe = parseFloat(document.getElementById("recebe").value || 0);
  const tamanho = document.getElementById("tamanho").value;
  const valorUnitario = tamanho === "P" ? 10 : 15;
  const total = pedido.length * valorUnitario;
  const troco = formaPagamento === "dinheiro" ? (recebe - total).toFixed(2) : 0;
  const obs = document.getElementById("observacoes").value;
  const statusPagamento = document.getElementById("statusPagamento").value;

  let conteudo = `<div style="margin-bottom:20px;"><h2>Pedido - ${cliente}</h2></div>`;
  if(opcaoEntrega === "entrega") conteudo += `<p>Endere√ßo: ${endereco}</p>`;
  conteudo += `<p>Forma de Pagamento: ${formaPagamento}</p>`;
  conteudo += `<p>Status: ${statusPagamento}</p>`;
  if(formaPagamento === "dinheiro") {
    conteudo += `<p>Recebe: R$ ${recebe.toFixed(2)}</p>`;
    conteudo += `<p>Troco: R$ ${troco}</p>`;
  }
  conteudo += `<hr>`;
  pedido.forEach((q, i) => {
    conteudo += `<div style="margin-bottom:15px;"><strong>Quentinha ${i+1} (${tamanho})</strong><br>${q.join(", ")}</div>`;
  });
  conteudo += `<hr><p><strong>Total: R$ ${total.toFixed(2)}</strong></p>`;
  if(obs.trim() !== "") conteudo += `<p><strong>Observa√ß√µes:</strong> ${obs}</p>`;

  let janela = window.open('', '', 'width=600,height=400');
  janela.document.write('<html><head><title>Impress√£o</title></head><body style="font-size:16px;">');
  janela.document.write(conteudo);
  janela.document.write('</body></html>');
  janela.document.close();
  janela.print();

  pedido = [];
  quentinhaAtual = [];
  renderPedido();
}

function toggleEndereco() {
  document.getElementById("enderecoDiv").style.display = document.getElementById("opcaoEntrega").value === "entrega" ? "block" : "none";
}
function toggleTroco() {
  document.getElementById("trocoDiv").style.display = document.getElementById("formaPagamento").value === "dinheiro" ? "block" : "none";
}

atualizarMenu();
</script>
</body>
</html>
